{"openapi":"3.0.0","paths":{"/api/config":{"get":{"operationId":"getConfig","parameters":[],"responses":{"200":{"description":"Current configuration","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponseDto"}}}}},"summary":"Get current configuration","tags":["config"]},"put":{"operationId":"updateConfig","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConfigDto"}}}},"responses":{"200":{"description":"Configuration after update","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponseDto"}}}}},"summary":"Update configuration","tags":["config"]}},"/api/videos":{"get":{"description":"Returns a list of all video recordings available in the system","operationId":"listRecordings","parameters":[],"responses":{"200":{"description":"List of all recordings","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordingListResponseDto"}}}}},"summary":"List all recordings","tags":["Videos"]}},"/api/videos/{id}":{"get":{"description":"Returns detailed metadata about a specific recording","operationId":"getRecordingMetadata","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to retrieve","schema":{"type":"string"}}],"responses":{"200":{"description":"Recording metadata retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordingResponseDto"}}}},"404":{"description":"Recording not found"}},"summary":"Get recording metadata","tags":["Videos"]},"delete":{"description":"Permanently deletes a recording and all associated files. This operation cannot be undone. It removes all frames, captions, metadata, and the generated video file.","operationId":"deleteRecording","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to delete","schema":{"type":"string"}}],"responses":{"200":{"description":"Recording deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteRecordingResponseDto"}}}},"404":{"description":"Recording not found or could not be deleted"}},"summary":"Delete recording by ID","tags":["Videos"]}},"/api/videos/{id}/video-status":{"get":{"description":"Returns the current status of video generation for a recording. This endpoint provides detailed information about the video generation process, including whether it is pending, in progress, completed, or failed. Additional information is provided based on the status, such as start time, completion time, file format, size, and error messages if applicable.","operationId":"getVideoStatus","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to check video status for","schema":{"type":"string"}}],"responses":{"200":{"description":"Video generation status information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoStatusResponseDto"}}}},"404":{"description":"Recording not found"}},"summary":"Get video generation status","tags":["Videos"]}},"/api/videos/{id}/thumbnail":{"get":{"description":"Returns the thumbnail image for a recording as a PNG file. This is typically the first frame of the recording.","operationId":"getRecordingThumbnail","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to get the thumbnail for","schema":{"type":"string"}}],"responses":{"200":{"description":"Thumbnail image returned successfully","content":{"image/png":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Thumbnail not found"}},"summary":"Get recording thumbnail","tags":["Videos"]}},"/api/videos/save-current-session":{"post":{"description":"Saves the current active session as a video recording. This endpoint captures all screenshots collected during the session, stores them on disk, and initiates automatic video generation in the background. The video generation process happens asynchronously and can be monitored via the video-status endpoint. This recording captures both visual states and action contexts, creating a complete task record that can be analyzed, modified, or transformed into reusable automation workflows.","operationId":"saveCurrentSession","parameters":[],"responses":{"201":{"description":"Session saved as recording successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveSessionRecordingResponseDto"}}}},"400":{"description":"Error saving session or no active session found"}},"summary":"Save current session as a recording","tags":["Videos"]}},"/api/videos/current-session/video-data":{"get":{"description":"Returns the raw frames and captions for the current active session. This endpoint is primarily used for diagnostic purposes or custom video processing. Most clients should use the generated video file instead of raw frames.","operationId":"getCurrentSessionVideoData","parameters":[],"responses":{"200":{"description":"Video data retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrentSessionVideoDataResponseDto"}}}},"400":{"description":"Error retrieving video data or no active session found"}},"summary":"Get video data for current session","tags":["Videos"]}},"/api/videos/{id}/video-data":{"get":{"description":"Returns the raw frames and captions for a specific recording. This endpoint is primarily used for replaying recordings in the UI.","operationId":"getRecordingVideoData","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to get video data for","schema":{"type":"string"}}],"responses":{"200":{"description":"Video data retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionReplayDataResponseDto"}}}},"404":{"description":"Recording not found"}},"summary":"Get video data for a specific recording","tags":["Videos"]}},"/api/videos/{id}/download":{"get":{"description":"Downloads a recording as a ZIP archive containing all frames, captions, and metadata. This is useful for backup purposes or offline processing. For normal video playback, use the video endpoint instead.","operationId":"downloadRecording","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to download","schema":{"type":"string"}}],"responses":{"200":{"description":"ZIP file returned successfully","content":{"application/zip":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"Recording not found"}},"summary":"Download recording as ZIP file","tags":["Videos"]}},"/api/videos/{id}/generate-video":{"post":{"description":"Creates a video file from the frames of a recording with customizable options. This endpoint allows you to specify frame rate, caption settings, output format, and quality level. By default, videos play at 0.2 frames per second (5 seconds per frame) to allow time to read the captions. Videos are generated asynchronously, and you can check the status using the video-status endpoint. Note that videos are also generated automatically when a recording is created, so this endpoint is mostly useful for regenerating with different settings. The generated video will have the correct duration with each screenshot displayed for the specified amount of time.","operationId":"generateVideo","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to generate a video for","schema":{"type":"string"}}],"requestBody":{"required":false,"description":"Options for video generation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateVideoDto"}}}},"responses":{"201":{"description":"Video generation initiated or completed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateVideoResponseDto"}}}},"400":{"description":"Invalid options or error during video generation"},"404":{"description":"Recording not found"}},"summary":"Generate a video from the recording frames","tags":["Videos"]}},"/api/videos/{id}/video":{"get":{"description":"Streams the generated video file for a recording. This endpoint can be used directly in video players, such as in an HTML5 video tag. By default, videos play at 0.2 frames per second (5 seconds per frame) to allow time to read the captions. If the video has not been generated yet, it will attempt to generate it on-demand. If generation is already in progress, it returns a status update instead of the video. The endpoint supports both streaming (default) and download modes. The video duration will be correctly calculated based on the frame rate and number of screenshots.","operationId":"streamVideo","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to stream video for","schema":{"type":"string"}},{"name":"download","required":false,"in":"query","description":"Set to \"true\" to download the video instead of streaming it","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Video file streamed successfully","content":{"video/mp4":{"schema":{"type":"string","format":"binary"}},"video/webm":{"schema":{"type":"string","format":"binary"}},"image/gif":{"schema":{"type":"string","format":"binary"}}}},"202":{"description":"Video generation is in progress","content":{"video/mp4":{"schema":{"$ref":"#/components/schemas/VideoStreamInProgressResponseDto"}},"video/webm":{"schema":{"$ref":"#/components/schemas/VideoStreamInProgressResponseDto"}},"image/gif":{"schema":{"$ref":"#/components/schemas/VideoStreamInProgressResponseDto"}}}},"404":{"description":"Recording not found or video file not found"},"500":{"description":"Video generation failed","content":{"video/mp4":{"schema":{"$ref":"#/components/schemas/VideoStreamFailedResponseDto"}},"video/webm":{"schema":{"$ref":"#/components/schemas/VideoStreamFailedResponseDto"}},"image/gif":{"schema":{"$ref":"#/components/schemas/VideoStreamFailedResponseDto"}}}}},"summary":"Stream the generated video file","tags":["Videos"]}},"/api/videos/{id}/frames":{"get":{"description":"Returns all frames and their associated captions for a recording to be edited","operationId":"getFramesAndCaptions","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to get frames and captions for","schema":{"type":"string"}}],"responses":{"200":{"description":"Frames and captions retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FramesAndCaptionsResponseDto"}}}},"404":{"description":"Recording not found"}},"summary":"Get frames and captions for editing","tags":["Video Editing"]}},"/api/videos/{id}/frames/{frameIndex}":{"delete":{"description":"Deletes a specific frame from a recording and updates captions accordingly","operationId":"deleteFrame","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording","schema":{"type":"string"}},{"name":"frameIndex","required":true,"in":"path","description":"The index of the frame to delete","schema":{"type":"number"}}],"responses":{"200":{"description":"Frame deleted successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponseDto"}}}},"404":{"description":"Recording or frame not found"}},"summary":"Delete a frame","tags":["Video Editing"]}},"/api/videos/{id}/captions/{frameIndex}":{"put":{"description":"Updates the caption text for a specific frame","operationId":"updateCaption","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording","schema":{"type":"string"}},{"name":"frameIndex","required":true,"in":"path","description":"The index of the frame to update caption for","schema":{"type":"number"}}],"requestBody":{"required":true,"description":"New caption text","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCaptionDto"}}}},"responses":{"200":{"description":"Caption updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponseDto"}}}},"404":{"description":"Recording or caption not found"}},"summary":"Update caption for a frame","tags":["Video Editing"]}},"/api/videos/{id}/regenerate":{"post":{"description":"Regenerates the video file after frames or captions have been edited","operationId":"regenerateVideo","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the recording to regenerate video for","schema":{"type":"string"}}],"responses":{"201":{"description":"Video regeneration initiated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponseDto"}}}},"404":{"description":"Recording not found"}},"summary":"Regenerate video after edits","tags":["Video Editing"]}},"/api/operators/types":{"get":{"description":"Returns a list of available automation operator types that autonomous agents can use to interact with applications. The system supports both browser-based operators for web automation and computer operators for native desktop application automation, giving agents the flexibility to work across different environments.","operationId":"getOperatorTypes","parameters":[],"responses":{"200":{"description":"List of available operator types","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperatorTypesDto"}}}}},"summary":"Get available operator types","tags":["operators"]}},"/api/rpa/execute":{"post":{"description":"Initiates an automated execution of actions captured in a recording. This endpoint enables precise replay of previously recorded tasks with exact timing and interaction patterns. The system faithfully reproduces the recorded sequence, maintaining the original intent and workflow across different execution environments.","operationId":"startExecution","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartRpaExecutionDto"}}}},"responses":{"201":{"description":"RPA execution started successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RpaExecutionStatusDto"}}}},"400":{"description":"Invalid request or recording not found"}},"summary":"Start RPA execution from a recording","tags":["rpa"]}},"/api/rpa/{executionId}/stop":{"post":{"description":"Stops a running RPA execution and releases resources.","operationId":"stopExecution","parameters":[{"name":"executionId","required":true,"in":"path","description":"ID of the RPA execution to stop","schema":{"example":"rpa_1695872345678","type":"string"}}],"responses":{"200":{"description":"RPA execution stopped successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RpaExecutionStatusDto"}}}},"404":{"description":"RPA execution not found"}},"summary":"Stop an ongoing RPA execution","tags":["rpa"]}},"/api/rpa/{executionId}/status":{"get":{"description":"Returns the current status and progress of an RPA execution.","operationId":"getExecutionStatus","parameters":[{"name":"executionId","required":true,"in":"path","description":"ID of the RPA execution to get status for","schema":{"example":"rpa_1695872345678","type":"string"}}],"responses":{"200":{"description":"RPA execution status retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RpaExecutionStatusDto"}}}},"404":{"description":"RPA execution not found"}},"summary":"Get status of an RPA execution","tags":["rpa"]}},"/api/rpa/{recordingId}/parameter-template":{"get":{"description":"Returns a template with all parameterizable fields in a recording. This endpoint enables the core caching capability by extracting variable input points from recorded tasks. It identifies text entry fields, search queries, and other customizable elements that can be modified for each execution. This allows a single recorded workflow to be adapted for multiple scenarios without re-recording.","operationId":"getParameterTemplate","parameters":[{"name":"recordingId","required":true,"in":"path","description":"ID of the recording to get parameter template for","schema":{"example":"a1b2c3d4-e5f6-7g8h-9i0j-k1l2m3n4o5p6","type":"string"}}],"responses":{"200":{"description":"Parameter template retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParameterTemplateResponseDto"}}}},"400":{"description":"Recording not found or no type actions in recording"}},"summary":"Get parameter template for a recording","tags":["rpa"]}},"/api/rpa/batch-execute":{"post":{"description":"Starts multiple RPA executions with different parameter values. This powerful endpoint enables scalable automation by running the same recorded task with variations across multiple datasets. It efficiently creates independent execution instances for each parameter set, allowing parallel processing of tasks that share the same workflow but operate on different inputs. This is particularly useful for batch processing scenarios like data entry, record updates, or multi-account operations.","operationId":"batchExecute","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchExecuteRpaDto"}}}},"responses":{"201":{"description":"Batch execution started successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimpleSuccessResponseDto"}}}},"400":{"description":"Invalid request or recording not found"}},"summary":"Execute RPA with multiple parameter sets","tags":["rpa"]}},"/api/video/upload":{"post":{"description":"Upload a video recording of any task to automatically generate RPA workflows. The system learns from visual demonstration by analyzing screen recordings through computer vision. It identifies and extracts patterns of interaction including mouse movements, clicks, typing actions, and navigation sequences, converting them directly into executable automation without requiring manual scripting or programming.","operationId":"uploadVideo","parameters":[],"requestBody":{"required":true,"description":"Video file upload","content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/VideoUploadDto"}}}},"responses":{"200":{"description":"Video uploaded and processing started","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VideoAnalysisResponseDto"}}}}},"summary":"Upload a video for RPA analysis","tags":["video"]}},"/api/video/analysis/{id}":{"get":{"operationId":"getAnalysisResults","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Analysis results","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RpaStepsDto"}}}}},"summary":"Get analysis results for a video","tags":["video"]}},"/api/video/execute/{id}":{"post":{"description":"Executes automation steps extracted from video analysis. This endpoint enables the system to perform actions it learned through visual observation. Using a reasoning-based approach, the automation adapts to dynamic UI elements and handles environmental variations while following the core workflow pattern. This creates resilient processes that maintain functionality even when the target system has minor visual or layout changes.","operationId":"executeRpaSteps","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Execution started"}},"summary":"Execute RPA steps from video analysis","tags":["video"]}},"/api/video/processed/{filename}":{"get":{"operationId":"streamProcessedVideo","parameters":[{"name":"filename","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["video"]}},"/api/video/original/{filename}":{"get":{"operationId":"streamOriginalVideo","parameters":[{"name":"filename","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["video"]}},"/api/files/upload":{"post":{"description":"Upload a file for later processing. The system stores the file and provides a unique identifier for future reference.","operationId":"uploadFile","parameters":[],"requestBody":{"required":true,"description":"File upload","content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUploadDto"}}}},"responses":{"200":{"description":"File uploaded successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponseDto"}}}}},"summary":"Upload a file","tags":["files"]}},"/api/files":{"get":{"operationId":"listFiles","parameters":[],"responses":{"200":{"description":"List of files","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileInfoDto"}}}}}},"summary":"List all uploaded files","tags":["files"]}},"/api/files/{id}":{"get":{"operationId":"getFileInfo","parameters":[{"name":"id","required":true,"in":"path","description":"File ID","schema":{"example":"1682598432741","type":"string"}}],"responses":{"200":{"description":"File information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileInfoDto"}}}}},"summary":"Get information about a specific file","tags":["files"]},"delete":{"operationId":"deleteFile","parameters":[{"name":"id","required":true,"in":"path","description":"File ID","schema":{"example":"1682598432741","type":"string"}}],"responses":{"200":{"description":"File deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"}}}}}}},"summary":"Delete a file","tags":["files"]}},"/api/files/download/{filename}":{"get":{"operationId":"downloadFile","parameters":[{"name":"filename","required":true,"in":"path","description":"Filename","schema":{"example":"document-1682598432741.pdf","type":"string"}}],"responses":{"200":{"description":"File download"}},"summary":"Download a file","tags":["files"]}},"/api/human-layer/requests":{"get":{"operationId":"getRequests","parameters":[],"responses":{"200":{"description":"List of pending requests"}},"summary":"Get all pending human layer requests","tags":["Human Layer"]}},"/api/human-layer/{requestId}/approve":{"post":{"operationId":"approveRequest","parameters":[{"name":"requestId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Request approved successfully"},"201":{"description":""},"404":{"description":"Request not found or already handled"}},"summary":"Approve a pending human layer request","tags":["Human Layer"]}},"/api/iris-artifacts/list":{"get":{"operationId":"listArtifacts","parameters":[{"name":"path","required":false,"in":"query","description":"Path relative to .iris folder","schema":{"example":"code/my-project","type":"string"}}],"responses":{"200":{"description":"Artifacts retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtifactsContentDto"}}}},"400":{"description":"Invalid path requested"},"404":{"description":"Directory not found"}},"summary":"List artifacts in a directory within the .iris folder","tags":["iris-artifacts"]}},"/api/iris-artifacts/download/file/{path}":{"get":{"operationId":"downloadArtifactFile","parameters":[{"name":"path","required":true,"in":"path","description":"Path to the file relative to .iris folder","schema":{"type":"string"}}],"responses":{"200":{"description":"File downloaded successfully"},"400":{"description":"Invalid path or not a file"},"404":{"description":"File not found"}},"summary":"Download a file artifact from the .iris folder","tags":["iris-artifacts"]}},"/api/iris-artifacts/download/folder/{path}":{"get":{"operationId":"downloadArtifactFolder","parameters":[{"name":"path","required":true,"in":"path","description":"Path to the directory relative to .iris folder","schema":{"type":"string"}}],"responses":{"200":{"description":"Directory downloaded as zip successfully"},"400":{"description":"Invalid path or not a directory"},"404":{"description":"Directory not found"}},"summary":"Download a directory of artifacts as a zip file","tags":["iris-artifacts"]}}},"info":{"title":"Zenobia Intelligent Automation Platform API","description":"\nZenobia is an intelligent automation platform that learns from demonstrations and transforms them into robust workflows.\n\n## Key Features\n- **Demonstration-Based Learning**: Create automation by showing how tasks are performed\n- **Video Analysis**: Convert screen recordings into precise automation instructions\n- **Task Recording & Replay**: Record workflows and replay them with the same or different parameters\n- **RPA Process Generation**: Automatically convert recordings into parameterized workflows\n- **Action Caching**: Efficiently reuse automation steps across different tasks\n- **Multi-operator Support**: Control browsers or native desktop applications\n\nThe API enables developers to create automation that can handle complex real-world tasks through a combination of visual analysis, session recording, and parameterized execution.\n      ","version":"0.1.0","contact":{}},"tags":[{"name":"sessions","description":"Real-time session management for automation"},{"name":"operators","description":"Control browser and desktop automation interfaces"},{"name":"config","description":"System-wide configuration for automation and RPA processes"},{"name":"videos","description":"Session recording, playback and workflow generation"},{"name":"rpa","description":"Execute and parameterize recorded actions as reusable workflows"},{"name":"video","description":"Learning from video recordings to generate automation steps"}],"servers":[{"url":"http://0.0.0.0:3000","description":"Local development server"}],"components":{"schemas":{"ConfigResponseDto":{"type":"object","properties":{"vlmBaseUrl":{"type":"string","description":"VLM Base URL"},"vlmApiKey":{"type":"string","description":"VLM API Key"},"vlmModelName":{"type":"string","description":"VLM Model Name"},"vlmProvider":{"type":"string","description":"VLM Provider"},"language":{"type":"string","description":"Language"},"defaultOperator":{"enum":["browser","computer"],"type":"string","description":"Default Operator Type"},"maxLoopCount":{"type":"number","description":"Maximum Loop Count"},"loopIntervalInMs":{"type":"number","description":"Loop Interval in Milliseconds"}},"required":["vlmBaseUrl","vlmApiKey","vlmModelName","vlmProvider","language","defaultOperator","maxLoopCount","loopIntervalInMs"]},"UpdateConfigDto":{"type":"object","properties":{"vlmBaseUrl":{"type":"string","description":"VLM Base URL"},"vlmApiKey":{"type":"string","description":"VLM API Key"},"vlmModelName":{"type":"string","description":"VLM Model Name"},"vlmProvider":{"type":"string","description":"VLM Provider"},"language":{"type":"string","description":"Language"},"defaultOperator":{"enum":["browser","computer"],"type":"string","description":"Default Operator Type"},"maxLoopCount":{"type":"number","description":"Maximum Loop Count"},"loopIntervalInMs":{"type":"number","description":"Loop Interval in Milliseconds"}}},"VideoRecordingDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the recording"},"sessionId":{"type":"string","description":"Session ID this recording belongs to"},"title":{"type":"string","description":"Title of the recording"},"description":{"type":"string","description":"Description of the recording"},"createdAt":{"type":"number","description":"Timestamp when the recording was created"},"duration":{"type":"number","description":"Duration of the recording in milliseconds"},"frameCount":{"type":"number","description":"Number of frames in the recording"},"thumbnailPath":{"type":"string","description":"Path to the thumbnail image"},"filePath":{"type":"string","description":"Path to the recording files"},"size":{"type":"number","description":"Size of the recording in bytes"},"operatorType":{"type":"string","description":"Operator type used for the session","enum":["browser","computer"]},"videoGenerationStatus":{"type":"string","description":"Status of video generation","enum":["pending","in_progress","completed","failed"]},"videoGenerationStartedAt":{"type":"number","description":"Timestamp when video generation started"},"videoGenerationCompletedAt":{"type":"number","description":"Timestamp when video generation completed"},"videoGenerationError":{"type":"string","description":"Error message if video generation failed"},"hasVideo":{"type":"boolean","description":"Whether the recording has a video"},"videoPath":{"type":"string","description":"Path to the generated video file"},"videoFormat":{"type":"string","description":"Format of the generated video"},"videoSize":{"type":"number","description":"Size of the generated video in bytes"}},"required":["id","sessionId","title","createdAt","duration","frameCount","filePath","size"]},"RecordingListResponseDto":{"type":"object","properties":{"recordings":{"description":"List of recordings","type":"array","items":{"$ref":"#/components/schemas/VideoRecordingDto"}}},"required":["recordings"]},"RecordingResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the request was successful","example":true},"recording":{"description":"Recording metadata","additionalProperties":true,"allOf":[{"$ref":"#/components/schemas/VideoRecordingDto"}]}},"required":["success","recording"]},"VideoStatusResponseDto":{"type":"object","properties":{"recordingId":{"type":"string","description":"ID of the recording","example":"12345678-1234-5678-1234-567812345678"},"hasVideo":{"type":"boolean","description":"Whether the recording has a video file","example":true},"status":{"enum":["pending","in_progress","completed","failed"],"type":"string","description":"Status of video generation","example":"completed"},"message":{"type":"string","description":"Human-readable status message","example":"Video generation is complete"},"startedAt":{"type":"number","description":"Timestamp when video generation started (if in progress or completed)","example":1651234567890},"completedAt":{"type":"number","description":"Timestamp when video generation completed (if completed)","example":1651234597890},"elapsedSeconds":{"type":"number","description":"Elapsed time in seconds since generation started (if in progress)","example":30},"format":{"type":"string","description":"Video format (if completed)","example":"mp4"},"sizeMB":{"type":"number","description":"Video size in MB (if completed)","example":2.5},"error":{"type":"string","description":"Error message (if failed)","example":"FFmpeg process exited with code 1"}},"required":["recordingId","hasVideo","status","message"]},"SaveSessionRecordingResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the request was successful","example":true},"recording":{"description":"Recording metadata","additionalProperties":true,"allOf":[{"$ref":"#/components/schemas/VideoRecordingDto"}]}},"required":["success","recording"]},"CaptionDataDto":{"type":"object","properties":{"timestamp":{"type":"number","description":"Timestamp when the caption was created","example":1651234567890},"conversation":{"type":"object","description":"Conversation object containing the caption text and metadata"},"frameIndex":{"type":"number","description":"The index of the frame this caption belongs to","example":0}},"required":["timestamp","conversation","frameIndex"]},"VideoDataDto":{"type":"object","properties":{"frames":{"description":"Array of base64-encoded frames","example":["data:image/png;base64,iVBORw0KGgo..."],"type":"array","items":{"type":"string"}},"captions":{"description":"Array of caption data","type":"array","items":{"$ref":"#/components/schemas/CaptionDataDto"}},"metadata":{"description":"Optional recording metadata","allOf":[{"$ref":"#/components/schemas/VideoRecordingDto"}]}},"required":["frames","captions"]},"CurrentSessionVideoDataResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the request was successful","example":true},"videoData":{"description":"Video data","example":{"frames":["base64string1","base64string2"],"captions":[{"timestamp":1651234567890,"frameIndex":0,"conversation":{"from":"gpt","value":"Agent thought process here","predictionParsed":[{"thought":"Agent thought process here","action_type":"click"}]}}]},"allOf":[{"$ref":"#/components/schemas/VideoDataDto"}]}},"required":["success","videoData"]},"SessionReplayDataResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the request was successful","example":true},"replayData":{"description":"Replay video data","allOf":[{"$ref":"#/components/schemas/VideoDataDto"}]}},"required":["success","replayData"]},"GenerateVideoDto":{"type":"object","properties":{"fps":{"type":"number","description":"Frames per second for the generated video (0.2 = 5 seconds per frame)","example":0.2,"minimum":0.1,"maximum":30,"default":0.2},"captionsEnabled":{"type":"boolean","description":"Whether to include captions in the video","example":true,"default":true},"format":{"type":"string","description":"Video format to generate","example":"mp4","enum":["mp4","webm","gif"],"default":"mp4"},"quality":{"type":"string","description":"Video quality level","example":"medium","enum":["low","medium","high"],"default":"medium"}}},"GenerateVideoResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the video generation was successful","example":true},"videoPath":{"type":"string","description":"Path to the generated video file","example":"/Users/user/.iris/videos/12345678-1234-5678-1234-567812345678/video.mp4"},"recording":{"description":"Recording metadata after video generation","additionalProperties":true,"allOf":[{"$ref":"#/components/schemas/VideoRecordingDto"}]}},"required":["success","videoPath","recording"]},"VideoStreamInProgressResponseDto":{"type":"object","properties":{"status":{"type":"string","description":"Status of video generation","enum":["in_progress"],"example":"in_progress"},"message":{"type":"string","description":"Human-readable status message","example":"Video generation is in progress. Please try again later."},"startedAt":{"type":"number","description":"Timestamp when video generation started","example":1651234567890}},"required":["status","message"]},"VideoStreamFailedResponseDto":{"type":"object","properties":{"status":{"type":"string","description":"Status of video generation","enum":["failed"],"example":"failed"},"message":{"type":"string","description":"Human-readable status message","example":"Video generation failed."},"error":{"type":"string","description":"Error message","example":"FFmpeg process exited with code 1"}},"required":["status","message","error"]},"DeleteRecordingResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the delete operation was successful","example":true}},"required":["success"]},"FramesAndCaptionsResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the operation was successful","example":true},"frames":{"description":"Array of base64-encoded frames","type":"array","items":{"type":"string"}},"captions":{"description":"Array of caption data objects","type":"array","items":{"$ref":"#/components/schemas/CaptionDataDto"}}},"required":["success","frames","captions"]},"SuccessResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the operation was successful","example":true}},"required":["success"]},"UpdateCaptionDto":{"type":"object","properties":{"caption":{"type":"object","description":"Full caption object with predictionParsed and other data","example":{"timestamp":1651234567890,"conversation":{"from":"gpt","value":"New caption text here","predictionParsed":[{"thought":"New caption text here","action_type":"click"}]}}},"text":{"type":"string","description":"New caption text (for backward compatibility)","example":"New caption text here"}}},"OperatorTypesDto":{"type":"object","properties":{"types":{"type":"array","items":{"type":"string","enum":["browser","computer"]},"description":"List of available operator types"}},"required":["types"]},"StartRpaExecutionDto":{"type":"object","properties":{"recordingId":{"type":"string","description":"The ID of the recording containing caption data","example":"a1b2c3d4-e5f6-7g8h-9i0j-k1l2m3n4o5p6"},"actionDelay":{"type":"number","minimum":100,"maximum":10000,"description":"Optional delay between actions in milliseconds","default":1000,"example":1500},"parameterOverrides":{"type":"object","description":"Optional parameter overrides for type actions","example":{"2.action_inputs.content":"Parameterized text input"}}},"required":["recordingId"]},"RpaExecutionStatusDto":{"type":"object","properties":{"executionId":{"type":"string","description":"The ID of the RPA execution","example":"rpa_1695872345678"},"recordingId":{"type":"string","description":"The ID of the recording being automated","example":"a1b2c3d4-e5f6-7g8h-9i0j-k1l2m3n4o5p6"},"status":{"enum":["running","completed","failed","stopped"],"type":"string","description":"Current status of the execution","example":"running"},"currentActionIndex":{"type":"number","description":"Current action index being executed","example":3},"totalActions":{"type":"number","description":"Total number of actions to execute","example":15},"startedAt":{"type":"number","description":"Timestamp when the execution started","example":1695872345678},"operatorType":{"enum":["browser","computer"],"type":"string","description":"Operator type being used for execution","example":"browser"},"errorMessage":{"type":"string","description":"Error message if execution failed","example":"Failed to execute click action: Element not found"}},"required":["executionId","recordingId","status","currentActionIndex","totalActions","startedAt","operatorType"]},"ParameterTemplateResponseDto":{"type":"object","properties":{"recordingId":{"type":"string","description":"The ID of the recording","example":"a1b2c3d4-e5f6-7g8h-9i0j-k1l2m3n4o5p6"},"parameterTemplate":{"type":"object","description":"Parameter template with parameterizable fields","example":{"2.action_inputs.content":{"defaultValue":"Original text","actionIndex":2,"description":"Type action at step 3"}}}},"required":["recordingId","parameterTemplate"]},"BatchExecuteRpaDto":{"type":"object","properties":{"recordingId":{"type":"string","description":"The ID of the recording containing caption data","example":"a1b2c3d4-e5f6-7g8h-9i0j-k1l2m3n4o5p6"},"actionDelay":{"type":"number","minimum":100,"maximum":10000,"description":"Optional delay between actions in milliseconds","default":1000,"example":1500},"parameterSets":{"description":"Parameter sets for batch execution","example":[{"name":"Run 1","parameterOverrides":{"2.action_inputs.content":"First search term"}},{"name":"Run 2","parameterOverrides":{"2.action_inputs.content":"Second search term"}}],"type":"array","items":{"type":"string"}}},"required":["recordingId","parameterSets"]},"SimpleSuccessResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Whether the operation was successful","example":true},"message":{"type":"string","description":"Optional message with additional details","example":"RPA execution stopped successfully"}},"required":["success"]},"VideoUploadDto":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Video file to analyze (MP4, WebM, or AVI)"}},"required":["file"]},"VideoAnalysisResponseDto":{"type":"object","properties":{"analysisId":{"type":"string","description":"Unique identifier for the analysis","example":"1682598432741"},"originalVideo":{"type":"string","description":"Original uploaded video filename","example":"recording-1682598432741.mp4"},"processedVideo":{"type":"string","description":"Processed video filename with idle sections removed","example":"processed-recording-1682598432741.mp4"},"message":{"type":"string","description":"Status message","example":"Video uploaded and analyzed successfully"}},"required":["analysisId","originalVideo","processedVideo","message"]},"RpaStepsDto":{"type":"object","properties":{"analysisId":{"type":"string","description":"Unique identifier for the analysis","example":"1682598432741"},"rpaSteps":{"type":"string","description":"Generated RPA steps for browser automation","example":"1. Move mouse to position (125, 50)\n2. Click left mouse button\n3. Type \"example.com\"\n4. Press ENTER key\n5. Wait 2 seconds\n6. Move mouse to position (250, 150)\n7. Click left mouse button"},"processedVideoUrl":{"type":"string","description":"URL to access the processed video","example":"/api/video/processed/processed-recording-1682598432741.mp4"},"originalVideoUrl":{"type":"string","description":"URL to access the original video","example":"/api/video/original/recording-1682598432741.mp4"}},"required":["analysisId","rpaSteps","processedVideoUrl","originalVideoUrl"]},"FileUploadDto":{"type":"object","properties":{"file":{"type":"string","description":"File to upload","format":"binary"}},"required":["file"]},"FileUploadResponseDto":{"type":"object","properties":{"fileId":{"type":"string","description":"Unique ID for the uploaded file","example":"1682598432741"},"fileName":{"type":"string","description":"The filename with timestamp","example":"document-1682598432741.pdf"},"filePath":{"type":"string","description":"The full file path","example":"/Users/username/.iris/files/document-1682598432741.pdf"},"fileUrl":{"type":"string","description":"URL to access the file","example":"/api/files/download/document-1682598432741.pdf"},"fileSize":{"type":"number","description":"Size of the file in bytes","example":24560},"mimeType":{"type":"string","description":"MIME type of the file","example":"application/pdf"},"message":{"type":"string","description":"Upload status message","example":"File uploaded successfully"}},"required":["fileId","fileName","filePath","fileUrl","fileSize","mimeType","message"]},"FileInfoDto":{"type":"object","properties":{"fileId":{"type":"string","description":"Unique ID for the file","example":"1682598432741"},"fileName":{"type":"string","description":"The filename with timestamp","example":"document-1682598432741.pdf"},"filePath":{"type":"string","description":"The full file path","example":"/Users/username/.iris/files/document-1682598432741.pdf"},"fileUrl":{"type":"string","description":"URL to access the file","example":"/api/files/download/document-1682598432741.pdf"},"fileSize":{"type":"number","description":"Size of the file in bytes","example":24560},"mimeType":{"type":"string","description":"MIME type of the file","example":"application/pdf"},"uploadDate":{"type":"string","description":"File upload date","example":"2023-04-27T14:00:32.741Z"}},"required":["fileId","fileName","filePath","fileUrl","fileSize","mimeType","uploadDate"]},"ArtifactItemDto":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file or directory","example":"my-project"},"type":{"type":"string","description":"Type of the item (file or directory)","enum":["file","directory"],"example":"directory"},"size":{"type":"number","description":"Size of the item in bytes (for files only)","example":1024},"modifiedAt":{"type":"string","description":"Last modified timestamp","example":"2023-05-15T14:30:00.000Z"},"path":{"type":"string","description":"Full path relative to .iris folder","example":"code/my-project"},"extension":{"type":"string","description":"File extension (for files only)","example":".js"}},"required":["name","type","modifiedAt","path"]},"ArtifactsContentDto":{"type":"object","properties":{"currentPath":{"type":"string","description":"Current path being listed","example":"code/my-project"},"parentPath":{"type":"string","description":"Parent path if available","example":"code"},"items":{"description":"List of files and directories","type":"array","items":{"$ref":"#/components/schemas/ArtifactItemDto"}}},"required":["currentPath","items"]}}}}